
{% extends "_layout" %}

{% block content %}

<section class="uk-section uk-container uk-container-small uk-width-xlarge">
	
	<h1>Sessions</h1>
	{% set entries = craft.entries.section('sessions').all() %}
	<nav class="">
		<ul>
			{% nav page in entries %}
            <li>
                <a href="{{ page.url }}" uk-tooltip="{% if page.type == 'session' %}Session{% else %}{{ page.typeCadre|capitalize }}{% endif %}">
					{% if page.typeCadre == 'season' %}{{page.season.one().titleLong}}
					{% elseif page.typeCadre == 'period' %}{{page.period.one().titleLong}}
					{% else %}{{ page.label|ucfirst|replace('-', ' ') }}{% endif %}
					{% if page.type == 'session' %}{{page.schedule|date('l')|ucfirst}}-{{page.schedule|time('short')}}{% endif %}
				</a>
                
                {% ifchildren %}
				<ul>
					{% children %}
				</ul>
                {% endifchildren %}
            </li>
			{% endnav %}
		</ul>
	</nav>
	
</section>

<section class="uk-section uk-section-small uk-container uk-container-small uk-width-xlarge">
	<a class="uk-button uk-button-link" href="{{siteUrl}}/admin/entries/sessions/new" target="_blank">New</a>
</section>


<style>
.pr-block {
	margin-bottom: 1em;
}
.pr-block-informations {
	border-bottom: 1px solid #999;
	display: flex;
	flex-direction: row;
}
.pr-block-heading {
	font-weight: bold;
	flex-grow: 1;
}
.pr-block-time {
	font-weight: normal;
}
.pr-block-rest {
	font-weight: normal;
}
.pr-block-exercise {
	display: flex;
}
.pr-block-exercise-heading {
	/*width: 40%;*/
	flex: 1 1 auto;
}
.pr-block-exercise-duration {
	margin: 0 .5em;
	flex: 1 0 auto;
}
.pr-block-exercise-note {
	/*width: 40%;*/
	font-size: 85%;
	flex: 2 1 auto;
}
</style>

{% endblock %}